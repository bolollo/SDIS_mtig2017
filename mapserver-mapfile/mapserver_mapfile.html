<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MapServer - Mapfile &mdash; geotalleres-teoria 1 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/geotalleres.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.1.0/readable/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="geotalleres-teoria 1 documentation" href="../index.html" />
    <link rel="next" title="MapServer - Mapfile carga de shapefile" href="../mapserver-mapfile-shp/mapserver_mapfile_shp.html" />
    <link rel="prev" title="Instalación de MapServer (vía MS4W)" href="../mapserver-install/mapserver_install.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          GeoTalleres</a>
        <span class="navbar-text navbar-version pull-left"><b>1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Nav <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../conceptos-geoservicios/conceptos_geoservicios.html">Conceptos básicos de Geoservicios</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../conceptos-geoservicios/conceptos_geoservicios.html#geoservicio">Geoservicio</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../conceptos-servidor-mapas/conceptos_servidor_mapas.html">Conceptos básicos Servidor de Mapas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../conceptos-servidor-mapas/conceptos_servidor_mapas.html#servidor-de-mapas-wms">Servidor de Mapas (WMS)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../geoserver/geoserver.html">GeoServer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../geoserver/geoserver.html#id1">GeoServer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mapserver/mapserver.html">MapServer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mapserver/mapserver.html#id1">MapServer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mapserver-install/mapserver_install.html">Instalación de MapServer (vía MS4W)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mapserver-install/mapserver_install.html#instalacion-mapserver">Instalación MapServer</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">MapServer - Mapfile</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">MapServer - Mapfile</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mapserver-mapfile-shp/mapserver_mapfile_shp.html">MapServer - Mapfile carga de shapefile</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mapserver-mapfile-shp/mapserver_mapfile_shp.html#id1">MapServer - Mapfile carga de shapefile</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mapserver-mapfile-shp-clasificado/mapserver_mapfile_shp_clasificado.html">MapServer - Mapfile carga de shapefile con clasificación</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mapserver-mapfile-shp-clasificado/mapserver_mapfile_shp_clasificado.html#id1">MapServer - Mapfile carga de shapefile con clasificación</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mapserver-mapfile-raster/mapserver_mapfile_raster.html">MapServer - Mapfile carga de raster</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mapserver-mapfile-raster/mapserver_mapfile_raster.html#id1">MapServer - Mapfile carga de raster</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mapserver-mapfile-raster-mosaico/mapserver_mapfile_raster_mosaico.html">MapServer - Mapfile carga de mosaico de imágenes raster</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../mapserver-mapfile-raster-mosaico/mapserver_mapfile_raster_mosaico.html#id1">MapServer - Mapfile carga de mosaico de imágenes raster</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cliente-web/cliente_web.html">Cliente Web</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cliente-web/cliente_web.html#id1">Cliente Web</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../leaflet-wms/leaflet_wms.html">Leaflet - Visualizar una capa WMS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../leaflet-wms/leaflet_wms.html#id1">Leaflet - Visualizar una capa WMS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../leaflet-wmts/leaflet_wmts.html">Leaflet - Visualizar una capa WMTS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../leaflet-wmts/leaflet_wmts.html#id1">Leaflet - Visualizar una capa WMTS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../qgis-wms/qgis_wms.html">QGIS - Visualizar una capa WMS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../qgis-wms/qgis_wms.html#id1">QGIS - Visualizar una capa WMS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../qgis-wmts/qgis_wmts.html">QGIS - Visualizar una capa WMTS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../qgis-wmts/qgis_wmts.html#id1">QGIS - Visualizar una capa WMTS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../visor-responsive/index.html">Aplicación Web con diseño responsivo con Leaflet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../visor-responsive/bootstrap.html">Bootstrap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visor-responsive/template_basico_bootstrap.html">Bootstrap - Template básico</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visor-responsive/mapa_leaflet.html">Bootstrap - Mapa Leaflet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visor-responsive/geolocalizacion_leaflet.html">Bootstrap - Mapa Leaflet - Geolocalización</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">MapServer - Mapfile</a><ul>
<li><a class="reference internal" href="#id1">MapServer - Mapfile</a><ul>
<li><a class="reference internal" href="#principales-objetos-del-archivo-map">Principales objetos del archivo .map</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="../mapserver-install/mapserver_install.html" title="Previous Chapter: Instalación de MapServer (vía MS4W)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Instalación d...</span>
    </a>
  </li>
  <li>
    <a href="../mapserver-mapfile-shp/mapserver_mapfile_shp.html" title="Next Chapter: MapServer - Mapfile carga de shapefile"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">MapServer - M... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/mapserver-mapfile/mapserver_mapfile.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="mapserver-mapfile">
<h1>MapServer - Mapfile<a class="headerlink" href="#mapserver-mapfile" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Fecha</th>
<th class="head">Autores</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>14 Febrero 2017</td>
<td><ul class="first last simple">
<li>Wladimir Szczerban</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>©2017 Wladimir Szczerban</p>
<p class="last">Excepto donde quede reflejado de otra manera, la presente documentación se halla bajo licencia: Creative Commons (Creative Commons - Attribution - Share Alike: <a class="reference external" href="http://creativecommons.org/licenses/by-sa/3.0/deed.es">http://creativecommons.org/licenses/by-sa/3.0/deed.es</a>)</p>
</div>
<div class="section" id="id1">
<h2>MapServer - Mapfile<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>El <em>Mapfile</em> (.map) es el corazón de MapServer, este archivo define las relaciones entre los objetos, la localización de los datos y define cómo debe ser dibujada la cartografía. Para entender el funcionamiento de MapServer hay que tener claro que una capa (LAYER) es la combinación de datos más estilos. A los datos se les da estilos usando directivas CLASS y STYLE, tanto en la forma de atributo como la geometría.</p>
<p>A la hora de crear el archivo map se han de tener en cuenta los siguientes aspectos:</p>
<ul class="simple">
<li>MapServer <strong>NO</strong> distingue entre mayúsculas y minúsculas.</li>
<li>El Mapfile se lee de arriba a abajo por MapServer; esto significa que las capas situadas cerca de la parte superior del Mapfile serán dibujadas antes de aquellas cerca del final del archivo. Por lo tanto, los usuarios normalmente colocan imágenes de fondo y otros tipos de capas de fondo cerca de la parte superior de su Mapfile, y líneas y puntos cerca de la parte inferior de su Mapfile.</li>
<li>Las cadenas que contienen caracteres no alfanuméricos o una palabra clave de MapServer deben ir entre comillas. Se recomienda poner TODAS las cadenas en comillas dobles.</li>
<li>El Mapfile se espera que este codificado en UTF-8. Los archivos no UTF-8 tendrán que ser convertidos a UTF-8.</li>
<li>Los comentarios deben ir precedidos por el carácter #.</li>
<li>El archivo .map tiene una estructura jerárquica y por sí solo representa el objeto MAP, dentro de este objeto, existen otros objetos que contienen clases y propiedades de clase.</li>
<li>Las rutas de los ficheros pueden ser dadas como rutas absolutas, o como rutas relativas a la ubicación del archivo .map. Además, los archivos de datos se pueden especificar en relación con el SHAPEPATH.</li>
<li>Cada objeto tiene un inicio, que es el nombre del objeto y un final, expresado con el parámetro END.</li>
<li>MapServer acepta colores en valores RGB o como una cadena hexadecimal.</li>
<li>Los atributos se nombran utilizando la siguiente sintaxis: [NOMREATRIBUTO]. Tenga en cuenta que el nombre del atributo incluido entre los corchetes ES SENSIBLE A MAYÚSCULAS. Por lo general, los conjuntos de datos de forma generados por ESRI tienen sus atributos (nombres de columnas .dbf) todos en mayúsculas, por ejemplo, y para PostGIS, SIEMPRE utilice minúsculas.</li>
<li>Se recomienda que el archivo Mapfile no esté en ruta accesible desde internet</li>
</ul>
<div class="section" id="principales-objetos-del-archivo-map">
<h3>Principales objetos del archivo .map<a class="headerlink" href="#principales-objetos-del-archivo-map" title="Permalink to this headline">¶</a></h3>
<p><strong>MAP:</strong> Es el objeto principal del Mapfile y contiene a todos los objetos</p>
<p><strong>NAME:</strong> Nombre del proyecto</p>
<p><strong>STATUS:</strong> Indica el estado de visualización del proyecto. Sus valores pueden ser ON, DEFAULT u OFF, estos valores pueden ser cambiados en ejecución.</p>
<p><strong>SIZE:</strong> Tamaño del píxel del mapa.</p>
<p><strong>EXTENT:</strong> Corresponde al BBOX del mapa.</p>
<p><strong>UNITS:</strong> Unidades del mapa.</p>
<p><strong>SHAPEPATH:</strong> Ruta donde se encuentra la cartografía.</p>
<p><strong>IMAGECOLOR:</strong> Color de fondo de la imagen del mapa.</p>
<p><strong>IMAGETYPE:</strong> Formato de salida del mapa.</p>
<p><strong>PROJECTION:</strong> Corresponde al SRS del mapa.</p>
<p><strong>WEB:</strong> Uno de los principales objetos dentro de WEB es el objeto METADATA, donde describimos parte del proyecto. Esta descripción aparecerá en la petición GetCapabilities.</p>
<p><strong>SYMBOL:</strong> Posibilidad de definir símbolos e imágenes asociadas con objetos cartográficos.</p>
<p><strong>LAYER:</strong> Este objeto permite describir cómo son las capas. Sus objetos más importantes son:</p>
<blockquote>
<div><p><strong>NAME:</strong> Nombre de la capa.</p>
<p><strong>TYPE:</strong> Geometría de la capa.</p>
<p><strong>STATUS:</strong> Estado de visualización de la capa.</p>
<p><strong>DATA:</strong> Datos asociadas a la capa.</p>
<p><strong>TEMPLATE:</strong> Normalmente se pasa el nombre de una página HTML, donde se mostrarían los datos resultados de una consulta. En el caso de una petición GetFeatureInfo no hace falta especificar ninguna página, simplemente se debe pasar un valor vacío.</p>
<p><strong>CLASSITEM:</strong> Nombre del campo que se usa en el CLASS.</p>
<p><strong>METADATA:</strong> Descripción de la capa.</p>
<p><strong>LABELITEM:</strong> Nombre del campo para etiquetar.</p>
<p><strong>DUMP:</strong> Sus valores pueden ser true o false y permiten exportar la capa al
formato GML. <em>Nota</em>: desde la versión 6.0 no se usa y se debe especificar en el METADATA de la capa.</p>
<p><strong>CLASS:</strong> Este objeto se utiliza para crear temáticos o simplemente para dar color a las capas. Sus objetos más importantes son:</p>
<blockquote>
<div><p><strong>NAME:</strong> Nombre de la clase.</p>
<p><strong>EXPRESSION:</strong> Valor con el que se tematizará.</p>
<p><strong>MINSCALEDENOM:</strong> Escala mínima a la que la CLASE se pinta. La escala se da como el denominador de la fracción de escala real, por ejemplo para un mapa a una escala de 1:24.000, usar 24000.</p>
<p><strong>MAXSCALEDENOM:</strong> Escala máxima a la que la CLASE se pinta. La escala se da como el denominador de la fracción de escala real, por ejemplo para un mapa a una escala de 1:24.000, usar 24000.</p>
<p><strong>LABEL:</strong> Objeto que sirve para etiquetar. Sus objetos más importantes son:</p>
<blockquote>
<div><p><strong>MINFEATURESIZE:</strong> El tamaño mínimo de un elemento que debe ser etiquetado. Dado en píxeles.</p>
<p><strong>MINDISTANCE:</strong> Distancia mínima entre etiquetas duplicadas. Dado en píxeles.</p>
<p><strong>POSITION:</strong> Posición respecto al objeto.</p>
<p><strong>SIZE:</strong> Tamaño de la etiqueta.</p>
<p><strong>COLOR:</strong> Color del texto.</p>
</div></blockquote>
<p><strong>STYLE:</strong> Este objeto se utiliza para indicar los parámetros de simbolización y estilo. Sus objetos más importantes son:</p>
<blockquote>
<div><p><strong>COLOR:</strong> Color usado para dibujar las geometrías.</p>
<p><strong>OUTLINECOLOR:</strong> Color usado para dibujar el contorno.</p>
<p><strong>SYMBOL:</strong> Símbolo usado para representar las geometrías</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p>Estos son algunos de los objetos que se pueden definir en el archivo .map, para ver todos sus objetos: <a class="reference external" href="http://www.mapserver.org/mapfile/index.html">http://www.mapserver.org/mapfile/index.html</a></p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Varios.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>